<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="group_pos_franchise_user" model="res.groups">
        <field name="name">Franchise User</field>
        <field name="category_id" ref="base.module_category_point_of_sale"/>
    </record>
    <record id="group_pos_franchise_manager" model="res.groups">
        <field name="name">Franchise Manager</field>
        <field name="category_id" ref="base.module_category_point_of_sale"/>
        <field name="implied_ids" eval="[(4, ref('group_pos_franchise_user'))]"/>
    </record>    
    
    
   <record id="rule_pos_order_franchise_user" model="ir.rule">
        <field name="name">Point Of Sale Franchise Order User</field>
        <field name="model_id" ref="point_of_sale.model_pos_order" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_user'))]"/>
        <field name="domain_force">[('user_id', '=', user.id)]</field>
   </record>
   <record id="rule_pos_order_franchise_manager" model="ir.rule">
        <field name="name">Point Of Sale Franchise Order Manager</field>
        <field name="model_id" ref="point_of_sale.model_pos_order" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_manager'))]"/>
        <field name="domain_force">[('user_id', 'child_of', [user.id])]</field>
    </record>    
   <record id="rule_hr_employee_franchise_user" model="ir.rule">
        <field name="name">Point Of Sale Franchise Employee User</field>
        <field name="model_id" ref="hr.model_hr_employee" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_user'))]"/>
        <field name="domain_force">[('user_id', '=', user.id)]</field>
    </record>        
   <record id="rule_hr_employee_franchise_manager" model="ir.rule">
        <field name="name">Point Of Sale Franchise Employee Manager</field>
        <field name="model_id" ref="hr.model_hr_employee" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_manager'))]"/>
        <field name="domain_force">[('user_id', 'child_of', [user.id])]</field>
    </record>            
    <record id="rule_pos_bank_statement_line_franchise_user" model="ir.rule">
        <field name="name">Point Of Sale Bank Statement Line POS Franchise User</field>
        <field name="model_id" ref="account.model_account_bank_statement_line" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_user'))]"/>
        <field name="domain_force">[('statement_id.pos_session_id', '!=', False)]</field>
    </record>   
    <record id="rule_pos_bank_statement_franchise_user" model="ir.rule">
        <field name="name">Point Of Sale Bank Statement POS Franchise User</field>
        <field name="model_id" ref="account.model_account_bank_statement" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_user'))]"/>
        <field name="domain_force">[('pos_session_id', '!=', False)]</field>
    </record>  
   <record id="rule_pos_config_franchise_user" model="ir.rule">
        <field name="name">Point Of Sale Franchise POS Config User</field>
        <field name="model_id" ref="point_of_sale.model_pos_config" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_user'))]"/>
        <field name="domain_force">[('default_user_id', '=', user.id)]</field>
    </record> 
    
   <record id="rule_pos_config_franchise_manager" model="ir.rule">
        <field name="name">Point Of Sale Franchise POS Config Manager</field>
        <field name="model_id" ref="point_of_sale.model_pos_config" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_manager'))]"/>
        <field name="domain_force">[('default_user_id', 'child_of', [user.id])]</field>
    </record>     
    <record id="rule_pos_session_franchise_user" model="ir.rule">
        <field name="name">Point Of Sale Session Franchise User</field>
        <field name="model_id" ref="point_of_sale.model_pos_session" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_user'))]"/>
        <field name="domain_force">[('user_id', '=', user.id)]</field>
    </record>                      
    <record id="rule_pos_session_franchise_manager" model="ir.rule">
        <field name="name">Point Of Sale Session Franchise Manager</field>
        <field name="model_id" ref="point_of_sale.model_pos_session" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_manager'))]"/>
        <field name="domain_force">[('user_id', 'child_of', [user.id])]</field>
    </record>                      
    <record id="rule_pos_session_franchise_user" model="ir.rule">
        <field name="name">Point Of Sale Session Franchise User</field>
        <field name="model_id" ref="point_of_sale.model_pos_session" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_user'))]"/>
        <field name="domain_force">[('user_id', '=', user.id)]</field>
    </record>        
    <record id="rule_res_partner_franchise" model="ir.rule">
        <field name="name">Point Of Sale Partners Franchise Manager</field>
        <field name="model_id" ref="point_of_sale.model_res_partner" />
        <field name="groups" eval="[(4,ref('group_pos_franchise_user')),(4, ref('group_pos_franchise_manager'))]"/>
        <field name="domain_force">['|','|',('id','in',[user.child_ids.partner_id.id]),('id','=',user.partner_id.id),('user_id', 'child_of', [user.id])]</field>
    </record>        
    <record id="rule_product_template_franchise_user" model="ir.rule">
        <field name="name">Product Template Session Franchise User</field>
        <field name="model_id" ref="product.model_product_template" />
        <field name="groups" eval="[(4, ref('group_pos_franchise_user'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
    </record>                                      
</odoo>